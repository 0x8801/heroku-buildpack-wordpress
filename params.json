{"google":"UA-31205985-1","note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"Run Wordpress on Heroku","body":"# Heroku buildpack: Wordpress\r\n\r\nA buildpack to run Wordpress on Heroku.\r\n\r\nCurrently running:\r\n\r\n* `nginx-1.3.11` ([see compile options](https://github.com/mchung/heroku-buildpack-wordpress/blob/master/support/package_nginx)).\r\n* `php-5.4.11` ([see compile options](https://github.com/mchung/heroku-buildpack-wordpress/blob/master/support/package_php)).\r\n* `wordpress-3.5.1` ([from wordpress.org](http://wordpress.org/download/release-archive/))\r\n\r\n## Overview\r\n\r\nFork [Wordpress on Heroku](http://github.com/mchung/wordpress-on-heroku), add your favorite theme and plugins, then deploy to Heroku.\r\n\r\nFor an enhanced Heroku experience, enable the following plugins:\r\n\r\n* `heroku-sendgrid`\r\n* `wpro`\r\n* `memcachier`\r\n* `batcache`\r\n\r\n## Usage\r\n\r\nGetting started\r\n```\r\n$ git clone git://github.com/mchung/wordpress-on-heroku.git my-new-wp-blog\r\n$ cd my-new-wp-blog\r\n$ heroku create --stack cedar --buildpack http://github.com/mchung/heroku-buildpack-wordpress.git my-new-wp-blog\r\n$ git push heroku master\r\n...\r\n-----> Heroku receiving push\r\n-----> Fetching custom buildpack\r\n-----> Wordpress app detected\r\n\r\n$ heroku open\r\n# Will open the fresh instance in your browser\r\n```\r\n\r\nSetup a custom domain name\r\n```\r\n$ heroku domains:add my-new-wp-blog.org # ensure correct DNS settings\r\n```\r\n\r\nAdding a theme\r\n```\r\n$ cp -r appply setup/wp-content/themes/\r\n$ git add .\r\n$ git commit -m \"New theme\"\r\n$ git push heroku master\r\n```\r\n\r\nAdding a plugin\r\n```\r\n$ cp -r google-analytics setup/wp-content/plugins/\r\n$ git add .\r\n$ git commit -m \"New plugin\"\r\n$ git push heroku master\r\n```\r\n\r\n\r\n## The Wordpress on Heroku stack\r\n\r\nThis buildpack is designed specifically to work with this [Wordpress](http://github.com/mchung/wordpress-on-heroku) project template, which is a highly tuned web stack built on the following components:\r\n\r\n* `Nginx` - Uses Nginx as a web server. Tuned specifically for Heroku.\r\n* `MySQL` - Uses ClearDB as a MySQL backend.\r\n* `PHP` - Uses PHP-FPM to intelligently manage PHP processes.\r\n* `SMTP over Sendgrid` - Uses Sendgrid as an outgoing email service.\r\n* `Memcache` - Uses MemCachier as a cache backend.\r\n\r\n## How highly tuned?\r\n\r\nHere are the results of a blitz.io rush on a single Heroku dyno:\r\n\r\n![Blitz.io rush](https://s3.amazonaws.com/heroku-buildpack-wordpress/woh-blitz.png)\r\n\r\n[See the report](https://www.blitz.io/report/7ed26cfaf69c7ae98602b1e62c862b4b)\r\n\r\n## Deck out your Wordpress\r\n\r\nEach time the project is deployed, this buildpack will copy over several configuration files from the [`setup`](https://github.com/mchung/wordpress-on-heroku/tree/master/setup) directory.\r\n\r\nThese files contain Wordpress configurations as well as general configurations used to tune the entire stack (PHP and Nginx)\r\n\r\n* `wp-content` - Wordpress themes and plugins\r\n* `wp-config.php` - Wordpress configuration\r\n* `nginx.conf.erb` - Nginx configuration\r\n* `php-fpm.conf` - PHP-FPM configuration\r\n* `php.ini` - PHP configuration\r\n\r\nFeel free to hack on `nginx.conf.erb`, `php-fpm.conf`, and `php.ini`.  For example, if you want to remove the PHP-FPM status page at `/status.html`, delete the directive from `nginx.conf.erb`.\r\n\r\n## I thought Heroku was only for Ruby applications?\r\n\r\nNot anymore. Heroku's latest offerings (See [Celadon Cedar stack](http://devcenter.heroku.com/articles/cedar)) makes it easy (well, easyish) for developers to install and run any language, or service.\r\n\r\n## Constraints with Heroku\r\n\r\nThe [ephemeral filesystem](http://devcenter.heroku.com/articles/dyno-isolation)\r\n\r\n* End-users cannot upload media assets to Heroku. WORKAROUND: Enable `wpro` and use that plugin to upload media assets to S3 instead.\r\n* End-users cannot update themes or plugins from the admin page. WORKAROUND: Add them to `setup/wp-content/themes` or `setup/wp-content/plugins` then push to Heroku.\r\n\r\n## Security disclosure\r\n\r\nEach time Wordpress is deployed, Heroku will fetch the latest buildpack from GitHub and execute the instructions in *compile* and *deploy*.  The latest precompiled version of Nginx, PHP, and Wordpress are downloaded from my personal [S3 bucket](http://heroku-buildpack-wordpress.s3.amazonaws.com).\r\n\r\n## Get hacking\r\n\r\nNot comfortable downloading and running a copy of someone else's PHP or Nginx? Not a problem!\r\n\r\nThe `support` directory also contains a handful of compilation and deployment scripts to automate several processes, which are currently used for maintenance and repo management.\r\n\r\n* `package_nginx` - Used to compile and upload the latest version of Nginx to S3.\r\n* `package_php` - Used to compile and upload the latest version of PHP to S3.\r\n* `wordup` - Really useful helper script for creating and destroying instances of [Wordpress on Heroku](https://github.com/mchung/wordpress-on-heroku).\r\n\r\n## TODO\r\n\r\n* Automate vendor upgrades. Make it easy to keep in sync with latest Nginx, PHP, and Wordpress\r\n* End-users shouldn't be able to do things that aren't supported on Heroku.\r\n\r\n### Authors and Contributors\r\nMarc Chung (@mchung)\r\n","name":"heroku-buildpack-wordpress"}